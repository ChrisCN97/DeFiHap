<table><thead><tr><th><span>Category</span></th><th><span>Anti-Pattern Name</span></th><th><span>Description</span></th><th><span>Impact</span></th><th><span>Detection</span></th><th><span>Fix</span></th></tr></thead><tbody><tr><td rowspan="22"><span>S-AP</span></td><td><span>Large Table on the Left</span></td><td><span>Putting table with more records on the left of JOIN.</span></td><td><span>P</span></td><td><span>rule-based</span></td><td><span>rule-based</span></td></tr><tr><td><span>Greedy Selection</span></td><td><span>Using SELECT * which could retrieve redundant result.</span></td><td><span>P, M</span></td><td><span>rule-based</span></td><td><span>rule-based</span></td></tr><tr><td><span>Too Many Joins</span></td><td><span>Using more than one JOIN operation.</span></td><td><span>P</span></td><td><span>rule-based</span></td><td><span>-</span></td></tr><tr><td><span>Misusing HAVING</span></td><td><span>Using HAVING without GROUP BY.</span></td><td><span>P</span></td><td><span>rule-based</span></td><td><span>rule-based</span></td></tr><tr><td><span>Misusing INTERVAL</span></td><td><span>Combining INTERVAL and DATE</span><span>_</span><span>SUB( ) for date query.</span></td><td><span>E</span></td><td><span>rule-based</span></td><td><span>rule-based</span></td></tr><tr><td><span>SELECT Inconsistent with GROUP BY</span></td><td><span>Missing selected columns after GROUP BY.</span></td><td><span>E</span></td><td><span>rule-based</span></td><td><span>rule-based</span></td></tr><tr><td><span>Calculation in Predicate</span></td><td><span>Calculating in predicates after ON or WHERE.</span></td><td><span>P</span></td><td><span>rule-based</span></td><td><span>-</span></td></tr><tr><td><span>Calling Functions in Predicate</span></td><td><span>Calling functions in predicates after ON or WHERE.</span></td><td><span>P</span></td><td><span>rule-based</span></td><td><span>-</span></td></tr><tr><td><span>No Group By</span></td><td><span>Using aggregation functions without GROUP BY.</span></td><td><span>E</span></td><td><span>rule-based</span></td><td><span>-</span></td></tr><tr><td><span>Using ORDER BY</span></td><td><span>Using ORDER BY instead of SORT BY.</span></td><td><span>P</span></td><td><span>rule-based</span></td><td><span>-</span></td></tr><tr><td><span>JOIN in Subquery</span></td><td><span>Using Join in the sub-query.</span></td><td><span>P</span></td><td><span>rule-based</span></td><td><span>-</span></td></tr><tr><td><span>Creating Duplicate Table</span></td><td><span>Creating a table having the same column properties as another table in the database.</span></td><td><span>P, M</span></td><td><span>rule-based</span></td><td><span>-</span></td></tr><tr><td><span>Querying without Partition</span></td><td><span>Querying on a partitioned table without using partition filter.</span></td><td><span>P</span></td><td><span>rule-based</span></td><td><span>rule-based</span></td></tr><tr><td><span>Data Skew</span></td><td><span>Querying on a dataset with a non-uniform distribution.</span></td><td><span>P</span></td><td><span>rule-based</span></td><td><span>-</span></td></tr><tr><td><span>Using String Matching</span></td><td><span>Using string matching in a HiveQL.</span></td><td><span>P</span></td><td><span>-</span></td><td><span>-</span></td></tr><tr><td><span>THEN inconsistent with ELSE</span></td><td><span>The types are inconsistent between the data in THEN and ELSE.</span></td><td><span>E</span></td><td><span>-</span></td><td><span>-</span></td></tr><tr><td><span>No Window Function</span></td><td><span>Normalize column data without window function.</span></td><td><span>E</span></td><td><span>-</span></td><td><span>-</span></td></tr><tr><td><span>Array Going Out of Bounds</span></td><td><span>Repeated fields after group by or join on cause the array to go out of bounds.</span></td><td><span>E</span></td><td><span>-</span></td><td><span>-</span></td></tr><tr><td><span>Misusing Quotes</span></td><td><span>Improper use of single and double quotes in Hive script.</span></td><td><span>E</span></td><td><span>-</span></td><td><span>-</span></td></tr><tr><td><span>Too Many count(distinct)</span></td><td><span>Use count(distinct) in large tables frequently.</span></td><td><span>P</span></td><td><span>-</span></td><td><span>-</span></td></tr><tr><td><span>JOIN with NULL</span></td><td><span>JOIN between large tables, one of the tables has null or 0 values, or a certain number of values is large.</span></td><td><span>P</span></td><td><span>-</span></td><td><span>-</span></td></tr><tr><td><span>JOIN Different Types</span></td><td><span>JOIN between different data types.</span></td><td><span>P</span></td><td><span>-</span></td><td><span>-</span></td></tr><tr><td rowspan="16"><span>C-AP</span></td><td><span>Inappropriate Number of Reducers</span></td><td><span>Setting too many or too few reducers for a JOIN operation.</span></td><td><span>P</span></td><td><span>tuning</span></td><td><span>tuning</span></td></tr><tr><td><span>Disabled Column Pruner</span></td><td><span>Not enabling the column pruner configuration item.</span></td><td><span>P</span></td><td><span>rule-based</span></td><td><span>rule-based</span></td></tr><tr><td><span>Disabled Partition Pruner</span></td><td><span>Not enabling the partition pruner configuration item.</span></td><td><span>P</span></td><td><span>rule-based</span></td><td><span>rule-based</span></td></tr><tr><td><span>Disabled Output Compression</span></td><td><span>Not enabling the output compression configuration item.</span></td><td><span>P</span></td><td><span>rule-based</span></td><td><span>rule-based</span></td></tr><tr><td><span>Disabled Parallelization</span></td><td><span>Not enabling the parallelization configuration item.</span></td><td><span>P</span></td><td><span>rule-based</span></td><td><span>rule-based</span></td></tr><tr><td><span>Disabled Cost based Optimizer</span></td><td><span>Not enabling the cost based optimizer (CBO) configuration item.</span></td><td><span>P</span></td><td><span>rule-based</span></td><td><span>rule-based</span></td></tr><tr><td><span>Inappropriate Container Size</span></td><td><span>Set container size setting inappropriately.</span></td><td><span>P</span></td><td><span>-</span></td><td><span>-</span></td></tr><tr><td><span>Improper Merge File Size</span></td><td><span>The merge file size is set improperly, too large or too small.</span></td><td><span>P</span></td><td><span>-</span></td><td><span>-</span></td></tr><tr><td><span>Failed Terminal Initialization</span></td><td><span>Hive started, terminal initialization failed.</span></td><td><span>E</span></td><td><span>-</span></td><td><span>-</span></td></tr><tr><td><span>ExecutorService Rejection</span></td><td><span>Task is rejected by executorService.</span></td><td><span>E</span></td><td><span>rule-based</span></td><td><span>rule-based</span></td></tr><tr><td><span>Inserting without Dynamic Partition</span></td><td><span>Inserting the partition table without setting dynamic partition.</span></td><td><span>E</span></td><td><span>rule-based</span></td><td><span>rule-based</span></td></tr><tr><td><span>Disabling Partial Aggregation</span></td><td><span>Not enabling the function of  partial aggregation on the map side.</span></td><td><span>P</span></td><td><span>rule-based</span></td><td><span>rule-based</span></td></tr><tr><td><span>Disabling Map Join</span></td><td><span>Not enabling Map Join when small tables join large tables.</span></td><td><span>P</span></td><td><span>rule-based</span></td><td><span>rule-based</span></td></tr><tr><td><span>Disabling Small File Merging</span></td><td><span>Not enabling the function of automatically merging small files.</span></td><td><span>P</span></td><td><span>rule-based</span></td><td><span>rule-based</span></td></tr><tr><td><span>Inappropriate Number of Mappers</span></td><td><span>Setting too many or too few mappers for a JOIN operation.</span></td><td><span>P</span></td><td><span>-</span></td><td><span>-</span></td></tr><tr><td><span>Unreasonable partition settings</span></td><td><span>Set partition improperly.</span></td><td><span>P</span></td><td><span>-</span></td><td><span>-</span></td></tr></tbody></table>

